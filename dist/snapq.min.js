//snapQ 1.0.2 https://github.com/chsneo/underscore.snapQ
(function(){_.mixin({nextItem:function(a,c){var b=_.indexOf(a,c);return b<a.length-1?a[b+1]:_.first(a)},previousItem:function(a,c){var b=_.indexOf(a,c);return 0<b?a[b-1]:_.last(a)},keyIndex:function(a,c,b){c=_.findWhere(a,{key:b});a=_.indexOf(a,c);return-1===a?null:a},pluckMultiple:function(){var a=_.rest(arguments,1);return _.map(arguments[0],function(c){var b={};_.each(a,function(a){b[a]=c[a]});return b})},rejectMultiple:function(a,c,b){return _.reject(a,function(a){return-1!=c.indexOf(a[b])})},
    findMultiple:function(a,c,b){return _.filter(a,function(a){return-1!=c.indexOf(a[b])})},toCommaString:function(a,c,b){b=b||",";return _.pluck(a,c||"id").join(b)},addToggle:function(a,c,b){a=a||[];var d;if(b){if(d=_.find(a,function(a){return a[b]===c[b]}))return _.filter(a,function(a){return a[b]!==c[b]})}else if(d=_.indexOf(a,function(a){return a===c}),-1<d)return _.filter(a,function(a){return a!==c});a.push(c);return a},deleteItem:function(a,c){var b=a.indexOf(c);-1!=b&&a.splice(b,1)}})})();